{"version":3,"sources":["../../../../server/api/room/room.events.js"],"names":[],"mappings":";;;;AAIA,YAAY,CAAC;;;;;;;;sBAEc,QAAQ;;yBAClB,cAAc;;;;AAC/B,IAAI,UAAU,GAAG,0BAAkB,CAAC;;;AAGpC,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;;;AAG9B,IAAI,MAAM,GAAG;AACX,aAAW,EAAC,UAAU;AACtB,cAAY,EAAE,YAAY;AAC1B,uBAAqB,EAAC,mBAAmB;AACzC,oBAAkB,EAAC,gBAAgB;AACnC,iBAAe,EAAC,cAAc;AAC9B,gBAAc,EAAC,oBAAoB;AACnC,aAAW,EAAC,WAAW;;AAEvB,gBAAc,EAAC,kBAAkB;AACjC,qBAAmB,EAAC,sBAAsB;CAC3C,CAAC;;;AAGF,KAAK,IAAI,CAAC,IAAI,MAAM,EAAE;AACpB,MAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AACtB,yBAAK,MAAM,CAAC,EAAE,CAAC,CAAC,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;CACrC;;AAED,SAAS,SAAS,CAAC,KAAK,EAAE;AACxB,SAAO,UAAS,GAAG,EAAC,IAAI,EAAE;AACxB,cAAU,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAC,IAAI,CAAC,CAAC;GAClC,CAAA;CACF;;qBAEc,UAAU","file":"room.events.js","sourcesContent":["/**\n * Room model events\n */\n\n'use strict';\n\nimport {EventEmitter} from 'events';\nimport Room from './room.model';\nvar RoomEvents = new EventEmitter();\n\n// Set max event listeners (0 == unlimited)\nRoomEvents.setMaxListeners(0);\n\n// Model events\nvar events = {\n  'tellGroup':'newGroup',\n  'tellFriend': 'newRequest',\n  'groupRemovedContact':'tellFriendRemoved',\n  'groupExitContact':'tellFriendExit',\n  'friendDeleted':'deleteFriend',\n  'acceptFriend':'tellFriendAccepted',\n  'joinRooms':'joinRooms',\n // 'rejectFriend':'tellFriendRejected', //This behavior was deleted\n  'groupDeleted':'tellGroupDeleted',\n  'groupAddedContact':'tellGroupAddedFriend'\n};\n\n// Register the event emitter to the model events\nfor (var e in events) {\n  var event = events[e];\n  Room.schema.on(e, emitEvent(event));\n}\n\nfunction emitEvent(event) {\n  return function(doc,info) {\n    RoomEvents.emit(event, doc,info);\n  }\n}\n\nexport default RoomEvents;\n"]}